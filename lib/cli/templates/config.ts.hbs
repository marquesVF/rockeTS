import "reflect-metadata"

import {
    SqliteConnectionOptions
} from 'typeorm/driver/sqlite/SqliteConnectionOptions'
import { ServerConfiguration } from 'tsrocket'

/*
 * You should change the database in production
 */
const database: SqliteConnectionOptions = {
    type: 'sqlite',
    database: 'development.sqlite',
    entities: ['src/models/*.ts'],
    migrations: ['src/migrations/*.ts'],
    cli: {
        migrationsDir: 'src/migrations'
    }
}

const config: ServerConfiguration = {
    port: 3000,
    controllers: ['src/controllers/*.ts'],
    database
}

export default config
